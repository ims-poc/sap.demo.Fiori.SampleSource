<mvc:View
    controllerName="sap.demo.StockTransfer.controller.ProductList"
    xmlns:core="sap.ui.core"
    xmlns:l="sap.ui.layout"
    xmlns:f="sap.ui.layout.form"
    xmlns:u="sap.ui.unified"
    xmlns:html="http://www.w3.org/1999/xhtml"
    xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.m">

	<App>
		<pages>
			<Page id="mainListPage" title="">
                <headerContent>
                	<Button id="stockTransferBtnSelectStore" icon="sap-icon://value-help" tooltip="Select Store" press="onValueHelpRequest" />
                </headerContent>
                <subHeader>
                    <Bar id="stockTransferBarSearch" >
                        <contentLeft>
                            <SearchField width="95%"
                                search="onLiveSearch"
                                liveChange="onLiveSearch"
                                showRefreshButton="true"
                                selectOnFocus="false"
                                placeholder="単品検索"
                                id="stockTransferSearchFieldProducts"
                            />
                            <Button
								id="orderProductsButtonForDialog"
								icon="sap-icon://bar-code"
								press="onOpenDialog"
                        	/>
                        </contentLeft>
                    </Bar>
                </subHeader>
                <content>
                    <Table
                        id="stockTransferTableProducts"
                        inset="false"
                        growing="false"
						growingThreshold="10"
						busyIndicatorDelay="500"
						enableBusyIndicator="true"
                        noDataText="{i18n>COM_NODATA_TEXT}"
                        showUnread="true"
                        mode="SingleSelectMaster"
                        visible="true"
                        selectionChange="onSelectionChange"
                        updateFinished="onListUpdateFinished"
                        items="{
                            path: 'listData>/ProductCollection'
                        }"
                    >
						<headerToolbar>
							<Toolbar>
								<HBox width="100%">
								<Label id="stockTransferLblFilter" text="{i18n>TITLE_FILTER}" class="sapUiSmallMarginTop sapUiSmallMarginBottom" />
									<FacetFilter
										id="stockTransferFacetFilter"
										type="Simple"
										lists="{listData>/ProductCollectionStats/Filters}"
										liveSearch="true"
										showPersonalization="false"
										showReset="true"
										reset="onFacetFilterReset"
									>
										<lists>
											<FacetFilterList
												title="{listData>type}"
												growing="false"
												items="{listData>values}"
												key="{listData>filterKey}"
												listOpen="onFacetFilterListOpen"
												listClose="setFilter"
											>
												<items>
													<FacetFilterItem
														key="{listData>data}"
														text="{listData>text}"
													/>
												</items>
											</FacetFilterList>
										</lists>
									</FacetFilter>
								</HBox>
							</Toolbar>
						</headerToolbar>
                        <columns>
                            <Column vAlign="Middle" id="stockTransferColumnProduct">
                                <Label text="{i18n>TITLE_PRODUCT}" />
                            </Column>
                            <Column vAlign="Middle" id="stockTransferColumnProductColor">
                            	<Label text="{i18n>TITLE_PRODUCT_COLOR}" />
                            </Column>
                            <Column vAlign="Middle" id="stockTransferColumnProductSize">
                            	<Label text="{i18n>TITLE_PRODUCT_SIZE}" />
                            </Column>
                            <Column vAlign="Middle" id="stockTransferColumnSupplierSite">
                            	<Label text="{i18n>TITLE_SUPPLIER_SITE}" />
                            </Column>
                            <Column vAlign="Middle" id="stockTransferColumnOrderQuantity" hAlign="Right">
                                <Label text="{i18n>TITLE_ORDER_QUANTITY}" />
                            </Column>
                            <Column vAlign="Middle" id="stockTransferColumnStockQuantity" hAlign="Right">
                                <Label text="{i18n>TITLE_STOCK_QUANTITY}" />
                            </Column>
                            <Column vAlign="Middle" id="stockTransferColumnScheduledQuantity" hAlign="Right">
                                <Label text="{i18n>TITLE_SCHEDULED_QUANTITY}" />
                            </Column>
                            <Column vAlign="Middle" id="stockTransferColumnSalesPrice" hAlign="Right">
                                <Label text="{i18n>TITLE_SALES_PRICE}" />
                            </Column>
                        </columns>
                        <items>
                            <ColumnListItem id="ColListItm" vAlign="Top">
                                <cells>
                                    <VBox id="stockTransferVBoxProductAttributes">
                                    	<Link text="{listData>Product}" id="stockTransferTextProductID" class="sampleStyle" enabled="false" />
                                        <Text text="{listData>ProductName}" id="stockTransferTextProductName" />
                                        <Text text="{listData>ProductForSupplier}" id="stockTransferTextProductSupplier" />
                                    </VBox>
                                    <Text id="stockTransferTextProductColor" text="{listData>ProductColor}" />
									<Text id="stockTransferTextProductSize" text="{listData>ProductSize}" />
									<!--<MultiInput id="stockTransferSupplierSiteInput" valueHelpRequest="onValueHelpRequestForSupplierSite" enabled="{view>/inputEnabled}" />-->
                                    <Input id="stockTransferSupplierSiteInput" value="{listData>SupplierSite}" showValueHelp="true" valueHelpOnly="false" valueHelpRequest="onValueHelpRequestForSupplierSite" enabled="{view>/inputEnabled}" />
                                    <HBox id="stockTransferHBoxOrderQuantityTablet" justifyContent="End">
                                        <Input
											id="stockTransferInputProductOrder"
											type="Number"
											textAlign="Right"
											maxLength="4"
											showValueStateMessage="false"
											value="{
												path : 'listData>ProductOrder',
												formatter : 'sap.demo.StockTransfer.util.common.setCammaForNumber'
											}"
											width="4em"
											change="onOrderQuantityChange"
											liveChange="onOrderQuantityLiveChange"
											enabled="{view>/inputEnabled}" />
                                        <HBox width="0.5em" />
                                        <Text id="stockTransferTextQuantityUnitTablet" wrapping="false" text="{listData>ProductOrderUnit}" class="sapUiSmallMarginTop sapUiSmallMarginBottom" textAlign="Right" />
                                    </HBox>
                                    <Text id="stockTransferTextStockQuantity"
										text="{
											path : 'listData>ProductStock',
											formatter : 'sap.demo.StockTransfer.util.common.setCammaForNumber'
										} {listData>ProductStockUnit}" textAlign="Right" />
									<Text id="stockTransferTextScheduledQuantity"
										text="{
											path : 'listData>ProductScheduledStock',
											formatter : 'sap.demo.StockTransfer.util.common.setCammaForNumber'
										} {listData>ProductScheduledStockUnit}" textAlign="Right" />
                                    <u:Currency value="{listData>ProductPrice}" currency="{listData>Currency}" useSymbol="false" maxPrecision="1" />
                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>
                </content>
                <footer>
                    <core:Fragment fragmentName="sap.demo.StockTransfer.view.FooterContent" type="XML" />
                </footer>
            </Page>
		</pages>
	</App>
</mvc:View>